<div>
  <%= partial 'partials/navbar' %>
</div>

<!-- Banner Section -->
<section class="photo-banner">
  <%= image_tag 'projects/PhotoLogo1-min.png', alt: 'Photo Logo', class: 'banner-image' %>
</section>

<!-- Gallery Section -->
<div class="container my-5 p-0">
  <div class="row g-3 justify-content-center">
    <% [
      "@_@-68.jpeg","@_@-69.jpeg","@_@-64.jpeg","@_@-66.jpeg",
      "C0U6080-R1-11-14.JPG","C0U6081-R1-14-23.JPG","C0U6081-R1-11-26.JPG","C0U6081-R1-03-34.JPG",
      "@_@-34.jpeg","@_@-28.jpeg","@_@-43.jpeg","@_@-29.jpeg","C0U6080-R1-15-10.jpg","C0U6080-R1-17-8.jpg",
      "C0U6080-R1-18-7.jpg","C0U6079-R1-02-3.JPG","IMG_1837.JPG","IMG_1839.JPG","IMG_1841.JPG","IMG_1870.JPG",
      "IMG_2547.jpeg","IMG_2487.JPG","IMG_2497.JPG","IMG_2530.JPG","IMG_4704.jpg","IMG_4705.jpg",
      "C0U6078-R1-03-22.jpg","C0U6078-R1-00-25.jpg","000018.jpg","IMG_0495.jpg","IMG_0471.jpg","IMG_0487.jpg",
      "IMG_4098.jpg","IMG_4093.jpg","IMG_4092.jpg","IMG_4088.jpg","IMG_9020.jpg","IMG_9021.jpg","IMG_9023.jpg",
      "IMG_9026.jpg","IMG_0705.jpeg","IMG_0745.jpg","IMG_0867.jpg","IMG_0879.jpeg","IMG_3064.jpg","@_@-10.jpeg",
      "IMG_3084.jpg","IMG_3777.jpeg"
    ].each do |filename| %>
      <div class="col-6 col-sm-4 col-md-3 d-flex justify-content-center mb-3">
        <div class="photo-tile gallery-item-container">
          <%= image_tag "projects/#{filename}", alt: "Photo", class: "tile-image img-fluid gallery-item" %>
        </div>
      </div>
    <% end %>
  </div>
</div>

<div>
  <%= partial 'partials/contactme' %>
</div>

<!-- Lightbox Overlay -->
<div id="lightbox-overlay" style="display:none;">
  <img id="lightbox-image" src="" alt="Lightbox Image">
</div>

<style>
  /* Banner */
  .photo-banner {
    width: 100%;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 2rem;
  }
  .photo-banner .banner-image {
    width: 100%;
    max-height: 400px;
    object-fit: cover;
  }
  @media (max-width: 768px) { .photo-banner .banner-image { max-height: 250px; } }
  @media (max-width: 480px) { .photo-banner .banner-image { max-height: 200px; } }

  /* Gallery tiles */
  .gallery-item-container {
    width: 100%;
    border: 1px solid rgba(0,0,0,0.08); /* subtle border */
    border-radius: 8px;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: transform 0.2s ease;
    cursor: pointer;
    background: #fff;
  }
  .gallery-item-container:hover {
    transform: scale(1.03);
  }

  .tile-image {
    width: 100%;
    height: auto;
    object-fit: cover;
    object-position: center;
    display: block;
  }

  /* Lightbox */
  #lightbox-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.85);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
  }
  #lightbox-overlay img {
    max-width: 90%;
    max-height: 90%;
    object-fit: contain;
    border-radius: 4px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.5);
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const lightboxOverlay = document.getElementById("lightbox-overlay");
    const lightboxImage = document.getElementById("lightbox-image");
    const galleryItems = document.querySelectorAll(".gallery-item");

    galleryItems.forEach(item => {
      item.addEventListener("click", () => {
        lightboxImage.src = item.src;
        lightboxOverlay.style.display = "flex";
      });
    });

    lightboxOverlay.addEventListener("click", () => {
      lightboxOverlay.style.display = "none";
      lightboxImage.src = "";
    });
  });
</script>
